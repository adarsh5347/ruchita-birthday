<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy Birthday Ruchitaaa 🎉💙</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Fonts for Poppins and Gochi Hand (for birthday title) -->
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* General Setup */
        :root {
            --color-primary: #1e90ff; /* Dodger Blue */
            --color-secondary: #4da6ff; /* Lighter Blue */
            --color-background: #e0f2ff; /* Very Light Blue */
            --color-text: #1e2a40; /* Dark Navy Text */
            --color-gold: #FFD700; /* Gold for Note */
            --color-gold-bg: #fff8e1; /* Pale Gold BG */
            --color-myth-bg: #4b0082; /* Deep Indigo for Mythology */
            --color-myth-text: #e0b4ff; /* Light Purple/Gold for contrast */
        }
        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            color: var(--color-text);
            /* Complex background for appeal */
            background: linear-gradient(135deg, var(--color-background), #c2e0ff);
            background-attachment: fixed;
        }

        /* Header Styling */
        header {
            text-align: center;
            padding: 3.5rem 1rem;
            background: linear-gradient(135deg, var(--color-secondary), var(--color-primary));
            color: white;
            position: relative;
            overflow: hidden;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            animation: pulse-border 2s infinite alternate;
        }
        @keyframes pulse-border {
            from { border-color: rgba(255, 255, 255, 0.5); }
            to { border-color: rgba(255, 255, 255, 1); }
        }
        header h1 {
            font-family: 'Gochi Hand', cursive;
            font-size: clamp(2.5rem, 8vw, 4rem); /* Responsive font size */
            margin: 0;
            font-weight: 700;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); /* Subtle glow */
        }
        header p {
            font-size: clamp(1rem, 3vw, 1.2rem);
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        /* Confetti (Rice Grains) */
        .confetti {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
        }
        .grain {
            position: absolute;
            width: 8px; height: 16px;
            background: #b3e0ff;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
            animation: fall 6s linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg) scale(1); opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg) scale(0.5); opacity: 0; }
        }

        /* Section Styling */
        section {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2.5rem;
            background: #ffffff;
            border-radius: 25px; /* Softer rounded corners */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); /* Deeper shadow */
            transition: transform 0.3s ease;
        }
        section:hover {
            transform: translateY(-4px);
        }
        section h2 {
            text-align: center;
            color: var(--color-primary);
            margin-bottom: 1.5rem;
            font-weight: 700;
            font-size: 1.8rem;
        }

        /* Responsive adjustments for mobile */
        @media (max-width: 450px) {
            section {
                margin: 1rem auto;
                padding: 1.5rem 1rem;
                border-radius: 15px;
            }
        }

        /* ------------------ Memory Wall (Gallery) ------------------ */
        #preview {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 1rem;
        }
        .media-item {
            width: 100%;
            max-width: 250px;
            height: 150px; /* Fixed height for wrappers */
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            cursor: pointer;
            transition: transform 0.3s, opacity 0.3s;
        }
        .media-item img, .media-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        @media (max-width: 600px) {
            .media-item {
                max-width: 45%; /* Two items per row on mobile */
                height: 120px;
            }
        }
        .media-item:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }

        /* ------------------ Thank You Note Section ------------------ */
        .thank-you-note {
            background: var(--color-gold-bg);
            border: 3px solid var(--color-gold);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 6px 15px rgba(255, 215, 0, 0.2);
            text-align: center;
        }
        .thank-you-note h3 {
            color: var(--color-primary); 
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
        }
        .thank-you-note .sender {
            display: block;
            margin-top: 1.5rem;
            font-weight: 600;
            color: var(--color-text);
            font-style: italic;
        }
        .favourite-terms-list {
            text-align: left;
            padding: 0 1.5rem;
            list-style: none;
            line-height: 1.8;
            font-size: 1.1rem;
            color: var(--color-text);
        }

        /* ------------------ Sudoku ------------------ */
        #sudoku {
            display: grid;
            grid-template-columns: repeat(9, clamp(35px, 9vw, 40px));
            grid-template-rows: repeat(9, clamp(35px, 9vw, 40px));
            gap: 1px;
            justify-content: center;
            margin: 20px auto;
            border: 3px solid var(--color-primary);
            background: var(--color-primary);
            border-radius: 10px;
        }
        #sudoku input {
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: clamp(16px, 4vw, 18px);
            border: none;
            outline: none;
            padding: 0;
            box-sizing: border-box;
            background: white;
            transition: background-color 0.3s;
        }
        /* Block Borders */
        #sudoku input:nth-child(3n) { border-right: 2px solid var(--color-primary); }
        #sudoku input:nth-child(9n) { border-right: none; }
        #sudoku div:nth-child(27n) ~ #sudoku input { border-bottom: 2px solid var(--color-primary); }
        #sudoku input:disabled {
            background: #cce6ff;
            font-weight: bold;
            color: var(--color-text);
        }
        #checkSudoku {
            padding: 12px 24px;
            margin-top: 1rem;
            background: var(--color-secondary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: background 0.3s, transform 0.1s;
            display: block;
            margin: 1rem auto 0;
        }
        #checkSudoku:hover {
            background: var(--color-primary);
            transform: translateY(-1px);
        }
        #sudokuResult {
            text-align: center;
            margin-top: 0.8rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-text);
        }
        .sudoku-success-flash {
            animation: successFlash 1s ease-out;
        }
        @keyframes successFlash {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            50% { box-shadow: 0 0 20px 10px rgba(76, 175, 80, 0.7); }
            100% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); }
        }

        /* ------------------ Mythology Section ------------------ */
        .myth-insight-section {
            background: var(--color-myth-bg);
            color: var(--color-myth-text);
            border: 3px solid var(--color-gold);
            padding: 3rem 2.5rem;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(75, 0, 130, 0.5);
            text-align: center;
        }
        .myth-insight-section h2 {
            color: var(--color-gold);
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }
        #mythologyQuote {
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            line-height: 1.6;
            margin: 1.5rem 0;
            color: white;
            transition: opacity 0.5s ease;
            text-align: justify;
            text-align-last: center;
        }
        #mythologySource {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--color-myth-text);
            margin-top: 0.5rem;
            transition: opacity 0.5s ease;
        }
        #shuffleQuoteBtn {
            padding: 10px 20px;
            background: var(--color-gold);
            color: var(--color-myth-bg);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: background 0.3s, transform 0.1s;
            margin-top: 1rem;
        }
        #shuffleQuoteBtn:hover {
            background: #ffec8b;
            transform: scale(1.02);
        }


        /* ------------------ Modal (Lightbox) ------------------ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px);
            overflow: auto;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            margin: auto;
            display: block;
            max-width: 90%;
            max-height: 90%;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            object-fit: contain;
        }
        .close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }
        .close:hover, .close:focus {
            color: #bbb;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>🎉 Happy Birthday Ruchita 💙🍚</h1>
        <p>Wishing you endless joy, laughter, and rice bowls forever 🌾🍚✨</p>
        <div class="confetti"></div>
    </header>

    <section id="memory-wall-section">
        <h2>📸 मेमरी वॉल (Memory Wall)</h2>
        <p style="text-align: center; font-style: italic; color: #555;">(Tap on any media to view full screen!)</p>
        <div id="preview">
            <!-- Media will be loaded here by JavaScript -->
        </div>
    </section>

    <section id="thank-you-section">
        <h2>💌 जास्त चुरु चुरु नाही बोलायचं </h2>
        <div class="thank-you-note">
            
            <h3 style="color: var(--color-primary); font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.5rem; margin-bottom: 1rem;">आवडत्या संज्ञा (Favourite Terms)</h3>

            <ul class="favourite-terms-list">
                <li>— **मंदबदक** (Mandbadak)</li>
                <li>— **पागल पोरगा** (Pagal Porga)</li>
                <li>— **वटवाघूळ** (Vatvaaghool)</li>
                <li>— **घुबड** (Ghubad)</li>
                <li>— **तुषार सरrrrrrrrr** (Tushar Sirrrrrrrrr)</li>
            </ul>
            
            <span class="sender">— सदैव आदर्श</span>
        </div>
    </section>
    
    <section>
        <h2>🎮 सुडोकू मिनी गेम (Sudoku Mini Game)</h2>
        <div id="sudoku-container">
            <div id="sudoku"></div>
            <button id="checkSudoku">सुडोकू तपासा</button>
            <p id="sudokuResult"></p>
        </div>
    </section>
    
    <!-- Mythology Quote Shuffler -->
    <section class="myth-insight-section">
        <h2>📜 ऐतिहासिक कुतूहल (Historical Curiosity)</h2>
        <div id="mythologyQuoteArea">
            <p id="mythologyQuote"></p>
            <span id="mythologySource"></span>
        </div>
        <button id="shuffleQuoteBtn">✨ आणखी एक गोष्ट ✨</button>
    </section>

    <!-- The Modal (for full screen media viewing) -->
    <div id="mediaModal" class="modal" onclick="this.style.display='none'">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImage">
        <video class="modal-content" id="modalVideo" controls></video>
    </div>

    <script>
        // --- 1. Confetti Animation Setup ---
        function createGrain() {
            const grain = document.createElement('div');
            grain.className = 'grain';
            grain.style.left = Math.random() * 100 + 'vw';
            grain.style.animationDuration = (3 + Math.random() * 4) + 's';
            document.querySelector('.confetti').appendChild(grain);
            setTimeout(() => grain.remove(), 7000);
        }
        setInterval(createGrain, 200);

        // --- 2. Memory Wall & Modal Setup ---
        // List of media files (relative path assumes they are in an 'assets' folder next to index.html)
        const mediaUrls = [
            // --- 6 PHOTOS (Upload these to your /assets/ folder on GitHub) ---
            { url: "./assets/RUCHITA_IMAGE_1.jpg", type: "image" },
            { url: "./assets/RUCHITA_IMAGE_2.jpg", type: "image" },
            { url: "./assets/RUCHITA_IMAGE_3.jpg", type: "image" },
            { url: "./assets/RUCHITA_IMAGE_4.jpg", type: "image" },
            { url: "./assets/RUCHITA_IMAGE_5.jpg", type: "image" }, 
            { url: "./assets/RUCHITA_IMAGE_6.jpg", type: "image" }, 
            // Optional video links can go here (using the direct Google Drive URL format if needed)
        ];

        const previewContainer = document.getElementById('preview');
        const modal = document.getElementById('mediaModal');
        const modalImage = document.getElementById('modalImage');
        const modalVideo = document.getElementById('modalVideo');

        function setupMemoryWall() {
            mediaUrls.forEach(media => {
                let element;
                const wrapper = document.createElement('div');
                wrapper.className = 'media-item';

                if (media.type === 'image') {
                    element = document.createElement('img');
                    element.src = media.url;
                    element.alt = 'Birthday Memory Image';
                } else if (media.type === 'video') {
                    element = document.createElement('video');
                    element.src = media.url;
                    element.controls = false;
                    element.muted = true; 
                    element.loop = true;
                    element.setAttribute('playsinline', ''); 
                    element.addEventListener('mouseenter', () => element.play());
                    element.addEventListener('mouseleave', () => element.pause());
                }

                if (element) {
                    wrapper.appendChild(element); 
                    wrapper.addEventListener('click', () => openModal(media.url, media.type));
                    previewContainer.appendChild(wrapper);
                }
            });
        }

        function openModal(url, type) {
            modal.style.display = "flex";
            if (type === 'image') {
                modalImage.src = url;
                modalImage.style.display = 'block';
                modalVideo.style.display = 'none';
            } else if (type === 'video') {
                modalVideo.src = url;
                modalVideo.style.display = 'block';
                modalImage.style.display = 'none';
                modalVideo.play();
                modalVideo.controls = true;
                modalVideo.muted = false; 
            }
        }

        document.querySelector('.close').addEventListener('click', () => {
            modal.style.display = 'none';
            modalVideo.pause();
            modalVideo.currentTime = 0;
            modalVideo.muted = true;
        });

        // --- 3. Sudoku Game Logic ---
        const sudokuContainer = document.getElementById('sudoku');
        let solution = [
            [5,3,4,6,7,8,9,1,2],
            [6,7,2,1,9,5,3,4,8],
            [1,9,8,3,4,2,5,6,7],
            [8,5,9,7,6,1,4,2,3],
            [4,2,6,8,5,3,7,9,1],
            [7,1,3,9,2,4,8,5,6],
            [9,6,1,5,3,7,2,8,4],
            [2,8,7,4,1,9,6,3,5],
            [3,4,5,2,8,6,1,7,9]
        ];
        let puzzle = [
            [5,3,0,0,7,0,0,0,0],
            [6,0,0,1,9,5,0,0,0],
            [0,9,8,0,0,0,0,6,0],
            [8,0,0,0,6,0,0,0,3],
            [4,0,0,8,0,3,0,0,1],
            [7,0,0,0,2,0,0,0,6],
            [0,6,0,0,0,0,2,8,0],
            [0,0,0,4,1,9,0,0,5],
            [0,0,0,0,8,0,0,7,9]
        ];

        function createSudokuGrid() {
            sudokuContainer.innerHTML = ''; 
            puzzle.forEach((row, r) => {
                row.forEach((num, c) => {
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.min = 1;
                    input.max = 9;
                    input.maxLength = 1;
                    
                    input.dataset.row = r;
                    input.dataset.col = c;
                    
                    if (r % 3 === 2 && r !== 8) { input.style.borderBottom = '3px solid var(--color-primary)'; }
                    if (c % 3 === 2 && c !== 8) { input.style.borderRight = '3px solid var(--color-primary)'; }
                    
                    if (num !== 0) {
                        input.value = num;
                        input.disabled = true;
                    }
                    
                    input.addEventListener('input', function() {
                        this.value = this.value.replace(/[^1-9]/g, '');
                        if (this.value.length > 1) { this.value = this.value.slice(0, 1); }
                    });
                    
                    sudokuContainer.appendChild(input);
                });
            });
        }

        document.getElementById('checkSudoku').addEventListener('click', () => {
            const inputs = sudokuContainer.querySelectorAll('input');
            let correct = true;
            let totalFilled = 0;
            inputs.forEach((input) => {
                const r = parseInt(input.dataset.row);
                const c = parseInt(input.dataset.col);
                const inputValue = parseInt(input.value) || 0;
                
                if (!input.disabled) {
                     input.style.backgroundColor = 'white'; 
                    if (inputValue !== 0) {
                        totalFilled++;
                        if (inputValue !== solution[r][c]) {
                            correct = false;
                            input.style.backgroundColor = '#ffcccc'; 
                        } else {
                            input.style.backgroundColor = '#ccffcc'; 
                        }
                    }
                } else {
                    totalFilled++; 
                }
            });

            const resultElement = document.getElementById('sudokuResult');
            const sectionElement = document.getElementById('sudoku-container').closest('section'); 
            const requiredFilled = 81;

            if (correct && totalFilled === requiredFilled) {
                resultElement.textContent = "🥳 अभिनंदन! तुम्ही सुडोकू सोडवला आहे! 💙🎉";
                sectionElement.classList.add('sudoku-success-flash');
                setTimeout(() => sectionElement.classList.remove('sudoku-success-flash'), 1000);
            } else if (correct && totalFilled < requiredFilled) {
                 resultElement.textContent = "🙂 अजून काही घरे भरायची आहेत! पण आतापर्यंतचे सर्व बरोबर आहेत.";
            } else {
                resultElement.textContent = "❌ काही चुका आहेत. पुन्हा प्रयत्न करा!";
            }
        });

        // --- 4. Historical Curiosity Shuffler Logic (Now in MARATHI) ---
        const historyFacts = [
            // --- 6 MYTHOLOGY STORIES (पौराणिक कथा) ---
            { 
                text: "भगवान शंकरांनी त्रिपुरासुराचा वध केल्यानंतर, त्यांच्या घामातून भीमा नदी उगम पावली. याच ठिकाणी शंकरांनी विश्रांती घेतली, जिथे त्यांचे भीमाशंकर ज्योतिर्लिंग स्वरूपात वास्तव्य झाले. हे मंदिर सह्याद्रीच्या घनदाट जंगलात असून, ते १२ ज्योतिर्लिंगांपैकी एक आहे. या मंदिराची रचना हेमाडपंती शैलीतील आहे, जी अत्यंत प्राचीन मानली जाते आणि ही श्रद्धा भक्तांना शांतता प्रदान करते.", 
                source: "भीमाशंकर ज्योतिर्लिंगाची निर्मिती" 
            },
            { 
                text: "कुरुक्षेत्राच्या युद्धात, भीष्म पितामह अर्जुनाच्या बाणांनी घायाळ झाल्यानंतर, त्यांनी स्वतःसाठी बाणांची शय्या (बाणांनी बनवलेले पलंग) तयार करवली. त्यांनी 'इच्छा-मृत्यू'चे वरदान मिळाल्यामुळे, उत्तरायणाचा काळ येईपर्यंत मृत्यू स्वीकारला नाही. ही घटना दर्शवते की इच्छाशक्ती आणि प्रतिज्ञा किती महत्त्वाच्या असतात. हा प्रसंग त्याग, धर्म आणि कर्तव्यनिष्ठा यांचे प्रतीक आहे.", 
                source: "महाभारतातील 'भीष्माचा बाणांचा शय्या'" 
            },
            { 
                text: "विदर्भाची राजकन्या रुक्मिणी, जिचे लग्न शिशुपालाशी ठरले होते, तिने भगवान श्रीकृष्णाला पत्र लिहून तिचे हरण करण्याची विनंती केली. द्वारकेहून येऊन, श्रीकृष्णाने शिशुपालाला हरवून रुक्मिणीला विवाहासाठी द्वारकेला नेले. ही कथा केवळ प्रेम नाही, तर धर्म आणि आत्मसन्मानासाठी अन्यायकारक नियमांविरुद्ध उभे राहणे याचे महत्त्व सांगते.", 
                source: "श्री कृष्णाचे रुक्मिणी हरण" 
            },
            { 
                text: "एकदा शंकर-पार्वती यांनी गणेश आणि कार्तिकेय यांना पृथ्वी प्रदक्षिणा करण्याची अट घातली. कार्तिकेय आपल्या मयूरावर बसून प्रदक्षिणेला निघाला. गणपतीने आपले बुद्धीचातुर्य वापरले: त्यांनी आपले आई-वडील हेच आपले विश्व मानून त्यांची प्रदक्षिणा केली आणि ते विजयी ठरले. यामुळे त्यांना 'मोदक' (ज्ञानाचे प्रतीक) बक्षीस मिळाले. ही कथा बुद्धी ही शक्तीपेक्षा श्रेष्ठ असल्याचे दर्शवते.", 
                source: "गणपतीची मोदक प्राप्ती (बुद्धीचातुर्य)" 
            },
            { 
                text: "प्राचीन कथेनुसार, विश्वामित्र ऋषींच्या प्रयत्नांनी आणि भगीरथाच्या कठोर तपामुळे स्वर्गातील गंगा नदीला पृथ्वीवर आणले गेले. गंगेचा वेग सांभाळण्यासाठी भगवान शंकराने तिला आपल्या जटांमध्ये धारण केले, ज्यामुळे गंगेचा प्रवाह शांत झाला आणि ती पृथ्वीवर आली. म्हणून गंगेला 'भागीरथी' असेही म्हणतात. ही कथा कठोर तपश्चर्येचे आणि दैवी हस्तक्षेपाचे महत्त्व सांगते.", 
                source: "सप्तर्षी आणि गंगावतरण" 
            },
            { 
                text: "जेजुरीचा खंडोबा (मल्हारी मार्तंड) हे महाराष्ट्राचे लोकदैवत आहे. त्यांनी मणि आणि मल्ल नावाच्या राक्षसांचा वध केला. खंडोबाच्या दोन पत्नी आहेत: म्हाळसा (देव कुटुंबातून आलेली) आणि बाणाई (धनगर समाजातून आलेली). ही कथा दर्शवते की देवासमोर जात-पात किंवा सामाजिक स्तर महत्त्वाचा नसतो. भक्ती आणि निष्ठा यालाच महत्त्व आहे, ज्यामुळे खंडोबाचे मंदिर महाराष्ट्रात ऐक्याचे प्रतीक आहे.", 
                source: "खंडोबा आणि म्हाळसा/बाणाई (लोकदैवत)" 
            },

            // --- 6 HISTORICAL PLACES/EVENTS STORIES (ऐतिहासिक स्थळे/घटना) ---
            { 
                text: "पैठण (प्राचीन 'प्रतिष्ठान') हे सातवाहन साम्राज्याची राजधानी होते. सुमारे २००० वर्षांपूर्वी हे शहर साहित्य, व्यापार आणि संस्कृतीचे मोठे केंद्र होते. गोदावरी नदीच्या काठी वसलेले असल्यामुळे या शहराला मोठे धार्मिक महत्त्व आहे. संत एकनाथ महाराज यांचं वास्तव्य याच ठिकाणी होतं. संत एकनाथांनी लिहिलेली 'एकनाथी भागवत' याच भूमीवर पूर्ण झाली, ज्यामुळे पैठणला 'महाराष्ट्राची काशी' म्हणूनही ओळखले जाते.", 
                source: "पैठण: सातवाहनांची प्राचीन राजधानी आणि संतभूमी" 
            },
            { 
                text: "नाशिक जवळील 'पंचवटी' हे ठिकाण रामायणातील एक अत्यंत महत्त्वाचे पौराणिक स्थळ आहे. वनवासात असताना भगवान राम, सीता आणि लक्ष्मण यांनी येथे आपला बराच काळ घालवला होता. या ठिकाणी सीतेचे अपहरण झाले होते, असे मानले जाते. 'पंचवटी' (पाच वडाची झाडे) नावावरूनच या जागेची ओळख आहे, आणि आजही तेथे पाच प्रमुख वडाची झाडे आहेत, जी हजारो वर्षांची श्रद्धा टिकवून आहेत.", 
                source: "नाशिक: रामायणातील पंचवटीचे पौराणिक महत्त्व" 
            },
            { 
                text: "औरंगाबाद जवळील अजिंठा लेण्या (Ajanta Caves) हे ई.स. पूर्व २०० ते इ.स. ४८० या काळात कोरलेले प्राचीन बौद्ध लेण्यांचे समूह आहे. या लेण्या त्यांच्या सुंदर चित्रे (Frescoes) आणि शिल्पकलेसाठी प्रसिद्ध आहेत, ज्यात गौतम बुद्धांच्या जीवनातील 'जातक कथा' अत्यंत तपशीलवारपणे रंगवलेल्या आहेत. ही चित्रे जगात आजही कलेचा उत्कृष्ट नमुना मानली जातात, जी शांतता आणि बौद्ध धर्माचे तत्त्वज्ञान दर्शवतात.", 
                source: "अजिंठा लेणी: जातक कथांची चित्रकला आणि बौद्ध धर्म" 
            },
            { 
                text: "पुणे येथील शनिवारवाडा, पेशव्यांचे सत्तास्थान, याच्या तळघरात एक मोठी विहीर आहे जी कधीही न सुकणारी म्हणून ओळखली जाते. या विहिरीचा उपयोग केवळ पिण्याच्या पाण्यासाठीच नव्हे, तर किल्ल्यावर हल्ला झाल्यास गुप्त मार्गासारखा (Secret Exit) किंवा संकटकाळात अन्नधान्याचा साठा सुरक्षित ठेवण्यासाठी केला जात होता. ही विहीर मराठा साम्राज्याच्या गुप्त व्यवस्थापन कौशल्याचा भाग होती.", 
                source: "शनिवारवाड्याची तळघरातील विहीर आणि गुप्त व्यवस्थापन" 
            },
            { 
                text: "रायगड जिल्ह्यातील 'कोकणदिवा' नावाचा किल्ला हा अत्यंत लहान, पण ऐतिहासिक दृष्ट्या महत्त्वाचा किल्ला आहे. हा किल्ला मराठा साम्राज्याच्या अखेरच्या काळात बांधला गेला असावा. या किल्ल्याच्या बांधकामात 'शिसे' (Lead) या धातूचा वापर झाला होता, ज्यामुळे त्याचे बांधकाम अधिक मजबूत झाले. हा किल्ला आजही इतिहासाचे एक शांत साक्षीदार म्हणून उभा आहे. किल्ल्यावरील बांधकाम मराठा स्थापत्यकलेची साधेपणा आणि मजबुती दर्शवते.", 
                source: "रायगडाजवळील दुर्लक्षित कोकणदिवा किल्ला आणि बांधकाम" 
            },
            { 
                text: "संत ज्ञानेश्वर महाराजांनी केलेली 'भिंत चालवण्याची' (Moving a Wall) कथा खूप प्रसिद्ध आहे. योग सामर्थ्य दाखवण्यासाठी, त्यांनी एका क्षणात एका निर्जीव भिंतीला (किंवा पाषाणाला) चालवून दाखवले. हा प्रसंग त्या काळात त्यांच्या चमत्काराचे आणि आध्यात्मिक सामर्थ्याचे प्रतीक मानला गेला, ज्यामुळे संत नामदेव आणि इतरांनी त्यांच्या नेतृत्वाचा स्वीकार केला. ही घटना महाराष्ट्राच्या वारकरी संप्रदायात मोठी प्रेरणादायी मानली जाते.", 
                source: "संत ज्ञानेश्वर आणि भिंत चालवण्याचा चमत्कार" 
            }
        ];

        let availableIndices = []; // New global state to track read stories

        // Function to initialize or reset the available indices
        function resetIndices() {
            availableIndices = Array.from(Array(historyFacts.length).keys());
            console.log("Historical facts index list reset. Total stories:", availableIndices.length);
        }

        const quoteElement = document.getElementById('mythologyQuote');
        const sourceElement = document.getElementById('mythologySource');
        const shuffleBtn = document.getElementById('shuffleQuoteBtn');

        function displayRandomQuote() {
            // Check if all stories have been shown
            if (availableIndices.length === 0) {
                resetIndices();
            }

            // 1. Pick a random index from the available indices list
            const randomIndexInAvailableList = Math.floor(Math.random() * availableIndices.length);
            
            // 2. Get the actual index of the story in the historyFacts array
            const storyIndex = availableIndices[randomIndexInAvailableList];
            
            // 3. Remove the story's index from the available list (prevents repeat)
            availableIndices.splice(randomIndexInAvailableList, 1);
            
            // Add a temporary class to fade out the text
            quoteElement.style.opacity = '0';
            sourceElement.style.opacity = '0';
            
            // Wait for fade-out, then change content and fade in
            setTimeout(() => {
                const fact = historyFacts[storyIndex]; // Use the selected story index
                quoteElement.textContent = fact.text;
                sourceElement.textContent = `— ${fact.source}`;
                
                quoteElement.style.opacity = '1';
                sourceElement.style.opacity = '1';

                // Optional: Update button text when list is almost empty
                if (availableIndices.length === 0) {
                     shuffleBtn.textContent = '🔁 सर्व कथा वाचून झाल्या, पुन्हा सुरू करा!';
                } else {
                     shuffleBtn.textContent = '✨ आणखी एक गोष्ट ✨';
                }

            }, 500); // 500ms delay matches the transition time
        }

        shuffleBtn.addEventListener('click', displayRandomQuote);

        
        // --- 5. Initialisation on Window Load ---
        window.onload = function () {
            setupMemoryWall();
            createSudokuGrid();
            resetIndices(); // Initialize indices on load
            displayRandomQuote(); // Load initial quote
        }

    </script>
</body>
